
from django.utils.html import mark_safe

from dpaw_utils import forms

from pbs.prescription.models import (Prescription,)
from pbs.risk.models import (Register,)


RemoteSensingPriorityDisplay = forms.widgets.ChoiceWidgetFactory("RemoteSensingPriorityDisplay",Prescription.SENSING_PRIORITY_CHOICES)
PlanningStatusDisplay = forms.widgets.ChoiceWidgetFactory("PlanningStatusDisplay",Prescription.PLANNING_CHOICES)
PrescriptionStatusDisplay = forms.widgets.ChoiceWidgetFactory("PrescriptionStatusDisplay",Prescription.STATUS_CHOICES)
IgnitionStatusDisplay = forms.widgets.ChoiceWidgetFactory("IgnitionStatusDisplay",Prescription.IGNITION_STATUS_CHOICES)
ApprovalStatusDisplay = forms.widgets.ChoiceWidgetFactory("ApprovalStatusDisplay",Prescription.APPROVAL_CHOICES)
EndorsementStatusDisplay = forms.widgets.ChoiceWidgetFactory("EndorsementStatusDisplay",Prescription.ENDORSEMENT_CHOICES)

IgnitionTypeDisplay = forms.widgets.ChoiceWidgetFactory("IgnitionTypeDisplay",{
    True:"Aerial",
    False:"Ground",
    None:""
})

RiskLevelDisplay = forms.widgets.ChoiceWidgetsFactory("RiskLevelDisplay",{
    Register.LEVEL_VERY_LOW:mark_safe('<span class="label lavel-very-low">{}</span>'.format(Register.LEVEL_CHOICES[Register.LEVEL_VERY_LOW - 1][1])),
    Register.LEVEL_LOW:mark_safe('<span class="label lavel-low">{}</span>'.format(Register.LEVEL_CHOICES[Register.LEVEL_LOW - 1][1])),
    Register.LEVEL_MEDIUM:mark_safe('<span class="label lavel-medium">{}</span>'.format(Register.LEVEL_CHOICES[Register.LEVEL_MEDIUM - 1][1])),
    Register.LEVEL_HIGH:mark_safe('<span class="label lavel-high">{}</span>'.format(Register.LEVEL_CHOICES[Register.LEVEL_HIGH - 1][1])),
    Register.LEVEL_VERY_HIGH:mark_safe('<span class="label lavel-very-high">{}</span>'.format(Register.LEVEL_CHOICES[Register.LEVEL_VERY_HIGH - 1][1])),
    "__default__":mark_safe('<span class="label lavel-very-high">{}</span>'.format(Register.LEVEL_CHOICES[Register.LEVEL_VERY_HIGH - 1][1]))
})
